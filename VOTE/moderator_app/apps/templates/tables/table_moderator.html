{% load render_table from django_tables2 %}

<!-- Desktop table view -->
<div class="d-none d-md-block">
    <div class="table-responsive">
        {% render_table items %}
    </div>
</div>

<!-- Mobile card view -->
<div class="d-md-none" id="card-list">
    {% for row in items.data %}
        <div class="card mb-3 shadow-sm" data-search="{{ row.search|default_if_none:''|lower }}">
            <div class="card-body p-3">

                <!-- Title -->
                <h6 class="card-title mb-3">
                    {{ row.session_code }} - {{ row.session_title }}
                </h6>

                <!-- Two-column info -->
                <div class="row mb-3">
                    <div class="col-6">
                        <p class="mb-1">{{ row.session_date }}</p>
                        <p class="mb-0">{{ row.session_time }}</p>
                    </div>
                    <div class="col-6 text-end">
                        <p class="mb-1">{{ row.speaker }}</p>
                        <p class="mb-0">{{ row.subject_desc }}</p>
                    </div>
                </div>

                <!-- Moderator line with pencil icon -->
                <div class="d-flex justify-content-between align-items-center">
                    <span class="text-muted fs-6 fw-semibold">
                        Moderator: {{ row.moderator_name|default:"â€”" }}
                    </span>
                    <a href="javascript:void(0);" onclick="value_edit('{{ row.session_code }}')" class="text-primary" title="Edit Moderator">
                        <i class="bi bi-pencil-fill" style="font-size: 1.2rem;"></i>
                    </a>
                </div>

            </div>
        </div>
    {% empty %}
        <p class="text-muted">No results found.</p>
    {% endfor %}
</div>

<style>
    table td, table th {
        white-space: normal !important;
        word-break: break-word;
    }
</style>
